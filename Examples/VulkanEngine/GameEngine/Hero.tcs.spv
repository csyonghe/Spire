#version 440
layout(vertices = 1) out;
struct BoneTransform
{
mat4 transformMatrix;
mat3 normalMatrix;
};
vec3 ProjectToPlane(vec3 p_Point, vec3 p_PlanePoint, vec3 p_PlaneNormal);
vec3 ProjectToPlane(vec3 p_Point, vec3 p_PlanePoint, vec3 p_PlaneNormal)
{
vec3 v15_v;
float v16_Len;
vec3 v17_d;
v15_v = (p_Point - p_PlanePoint);
v16_Len = dot(v15_v, p_PlaneNormal);
v17_d = (v16_Len * p_PlaneNormal);
return (p_Point - v17_d);
}
layout(binding = 0) uniform sampler2D albedoMap;
layout(std140, binding = 1) uniform viewUniformBlock
{
mat4 viewTransform;
mat4 viewProjectionTransform;
mat4 invViewTransform;
mat4 invViewProjTransform;
vec3 cameraPos;
} blkviewUniformBlock;
in vec3 coarseVertPos[];
in vec3 coarseVertNormal[];
in vec2 vertUV0I_at_Ivs[];
in vec3 coarseVertTangent[];
layout(std430, binding = 3) buffer skeletalTransformBlock
{
BoneTransform[] boneTransforms;
} blkskeletalTransformBlock;
out vec4 tessLevelOuter[]; 
out vec2 tessLevelInner[]; 
out vec3 SurfacePatternI_IPN_TessellationI_IWorldPos_B300[]; 
out vec3 SurfacePatternI_IPN_TessellationI_IWorldPos_B030[]; 
out vec3 SurfacePatternI_IPN_TessellationI_IWorldPos_B003[]; 
out vec3 SurfacePatternI_IPN_TessellationI_IWorldPos_B210[]; 
out vec3 SurfacePatternI_IPN_TessellationI_IWorldPos_B120[]; 
out vec3 SurfacePatternI_IPN_TessellationI_IWorldPos_B201[]; 
out vec3 SurfacePatternI_IPN_TessellationI_IWorldPos_B021[]; 
out vec3 SurfacePatternI_IPN_TessellationI_IWorldPos_B102[]; 
out vec3 SurfacePatternI_IPN_TessellationI_IWorldPos_B012[]; 
out vec3 SurfacePatternI_IPN_TessellationI_IWorldPos_B111[]; 
patch out vec2 vertUV0I_at_IperCornerPoint[3]; 
patch out vec3 coarseVertNormalI_at_IperCornerPoint[3]; 
patch out vec3 coarseVertTangentI_at_IperCornerPoint[3]; 
void main()
{
vec4 _vcmptessLevelOuter;
vec2 _vcmptessLevelInner;
vec3 _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B030;
vec3 _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B003;
vec3 _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B300;
vec3 _vcmpSurfacePatternI_IPN_TessellationI_IEdgeB300;
vec3 _vcmpSurfacePatternI_IPN_TessellationI_IEdgeB030;
vec3 _vcmpSurfacePatternI_IPN_TessellationI_IEdgeB003;
vec3 t215;
vec3 _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B021;
vec3 t219;
vec3 _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B012;
vec3 t21d;
vec3 _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B102;
vec3 t221;
vec3 _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B201;
vec3 t225;
vec3 _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B210;
vec3 t229;
vec3 _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B120;
vec3 _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B111t;
vec3 _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B111;
vec2 _vcmpvertUV0I_at_IperCornerPoint;
vec3 _vcmpcoarseVertNormalI_at_IperCornerPoint;
vec3 _vcmpcoarseVertTangentI_at_IperCornerPoint;
_vcmptessLevelOuter = vec4(3, 3, 3, 0);
tessLevelOuter[gl_InvocationID] = _vcmptessLevelOuter;
_vcmptessLevelInner = vec2(3.000000000000e+00);
tessLevelInner[gl_InvocationID] = _vcmptessLevelInner;
_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B030 = coarseVertPos[0];
SurfacePatternI_IPN_TessellationI_IWorldPos_B030[gl_InvocationID] = _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B030;
_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B003 = coarseVertPos[1];
SurfacePatternI_IPN_TessellationI_IWorldPos_B003[gl_InvocationID] = _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B003;
_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B300 = coarseVertPos[2];
SurfacePatternI_IPN_TessellationI_IWorldPos_B300[gl_InvocationID] = _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B300;
_vcmpSurfacePatternI_IPN_TessellationI_IEdgeB300 = (_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B003 - _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B030);
_vcmpSurfacePatternI_IPN_TessellationI_IEdgeB030 = (_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B300 - _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B003);
_vcmpSurfacePatternI_IPN_TessellationI_IEdgeB003 = (_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B030 - _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B300);
t215 = coarseVertNormal[0];
_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B021 = ProjectToPlane((_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B030 + (_vcmpSurfacePatternI_IPN_TessellationI_IEdgeB300 / 3.000000000000e+00)), _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B030, t215);
SurfacePatternI_IPN_TessellationI_IWorldPos_B021[gl_InvocationID] = _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B021;
t219 = coarseVertNormal[1];
_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B012 = ProjectToPlane((_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B030 + ((_vcmpSurfacePatternI_IPN_TessellationI_IEdgeB300 * 2.000000000000e+00) / 3.000000000000e+00)), _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B003, t219);
SurfacePatternI_IPN_TessellationI_IWorldPos_B012[gl_InvocationID] = _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B012;
t21d = coarseVertNormal[1];
_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B102 = ProjectToPlane((_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B003 + (_vcmpSurfacePatternI_IPN_TessellationI_IEdgeB030 / 3.000000000000e+00)), _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B003, t21d);
SurfacePatternI_IPN_TessellationI_IWorldPos_B102[gl_InvocationID] = _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B102;
t221 = coarseVertNormal[2];
_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B201 = ProjectToPlane((_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B003 + ((_vcmpSurfacePatternI_IPN_TessellationI_IEdgeB030 * 2.000000000000e+00) / 3.000000000000e+00)), _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B300, t221);
SurfacePatternI_IPN_TessellationI_IWorldPos_B201[gl_InvocationID] = _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B201;
t225 = coarseVertNormal[2];
_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B210 = ProjectToPlane((_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B300 + (_vcmpSurfacePatternI_IPN_TessellationI_IEdgeB003 / 3.000000000000e+00)), _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B300, t225);
SurfacePatternI_IPN_TessellationI_IWorldPos_B210[gl_InvocationID] = _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B210;
t229 = coarseVertNormal[0];
_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B120 = ProjectToPlane((_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B300 + ((_vcmpSurfacePatternI_IPN_TessellationI_IEdgeB003 * 2.000000000000e+00) / 3.000000000000e+00)), _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B030, t229);
SurfacePatternI_IPN_TessellationI_IWorldPos_B120[gl_InvocationID] = _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B120;
_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B111t = ((((((_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B021 + _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B012) + _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B102) + _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B201) + _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B210) + _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B120) / 6.000000000000e+00);
_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B111 = (_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B111t + ((_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B111t - (((_vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B003 + _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B030) + _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B300) / 3.000000000000e+00)) / 2.000000000000e+00));
SurfacePatternI_IPN_TessellationI_IWorldPos_B111[gl_InvocationID] = _vcmpSurfacePatternI_IPN_TessellationI_IWorldPos_B111;
for (int sysLocalIterator = 0; sysLocalIterator < gl_PatchVerticesIn; sysLocalIterator++)
{
_vcmpvertUV0I_at_IperCornerPoint = vertUV0I_at_Ivs[sysLocalIterator];
vertUV0I_at_IperCornerPoint[sysLocalIterator] = _vcmpvertUV0I_at_IperCornerPoint;
_vcmpcoarseVertNormalI_at_IperCornerPoint = coarseVertNormal[sysLocalIterator];
coarseVertNormalI_at_IperCornerPoint[sysLocalIterator] = _vcmpcoarseVertNormalI_at_IperCornerPoint;
_vcmpcoarseVertTangentI_at_IperCornerPoint = coarseVertTangent[sysLocalIterator];
coarseVertTangentI_at_IperCornerPoint[sysLocalIterator] = _vcmpcoarseVertTangentI_at_IperCornerPoint;
}
gl_TessLevelInner[0] = _vcmptessLevelInner[0];
gl_TessLevelInner[1] = _vcmptessLevelInner[1];
gl_TessLevelOuter[0] = _vcmptessLevelOuter[0];
gl_TessLevelOuter[1] = _vcmptessLevelOuter[1];
gl_TessLevelOuter[2] = _vcmptessLevelOuter[2];
gl_TessLevelOuter[3] = _vcmptessLevelOuter[3];
} 